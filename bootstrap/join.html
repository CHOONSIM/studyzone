<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <!-- <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"> -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.2.3/lux/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">

    <style>
        .map {
		width:100%;
		height:300px;
	    }
        .info-window {
	    }
    </style>

  </head>
  <body>

    <!--
      container - 화면이 배치될 기본 위치
        1. container - 기본 컨테이너이며 폭에 반응하여 자동 조정(뚝뚝끊김)
        2. container-fluid - 폭의 변화에 부드럽게 반응하는 컨테이너(100%)

        row - 한 줄 영역 , col - 한 칸 영역

        size - xl, lg, md, sm, 

    -->
    <div class="container-fluid mt-4" id="app">

        <div class="row">
            <div class="offset-md-2 col-md-8">
                
                <!-- 문서 제목 (Jumbotron)-->
                <div class="row text-center">
                    <div class="col bg-dark text-light p-4 rounded">
                        <h1>회원등록 페이지</h1>
                        <p></p>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col">
                        <div class="form-floating">
                            <input type="text" class="form-control rounded" v-model="memberId" value="" placeholder="a">
                            <label>아이디</label>
                            <span>{{idMessage}}</span>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col">
                        <div class="form-floating">
                            <input type="password" class="form-control rounded" v-model="memberPw" value="" placeholder="a">
                            <label>비밀번호</label>
                            <span>{{pwMessage}}</span>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col">
                        <div class="form-floating">
                            <input type="password" class="form-control rounded" v-model="memberPwCheck" value="" placeholder="a">
                            <label>비밀번호 확인</label>
                            <span>{{pwCheckMessage}}</span>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col">
                        <div class="form-floating">
                            <input type="text" class="form-control rounded" value="" placeholder="a">
                            <label>닉네임</label>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col">
                        <div class="form-floating">
                            <input type="text" class="form-control rounded" value="" placeholder="a">
                            <label>전화번호</label>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col">
                        <div class="form-floating">
                            <input type="text" class="form-control rounded" id="dob-picker" placeholder="a">
                            <label>생년월일</label>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col">
                        <div class="form-floating">
                            <input type="text" class="form-control rounded" value="" placeholder="a">
                            <label>주소</label>
                        </div>
                    </div>
                </div>

                <div class="row mt-4 mb-4">
                    <div class="col">
                        <button class="btn btn-success btn-sm w-100" v-bind:disabled="!allValid">회원가입</button>
                    </div>
                </div>

            </div>
        </div>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Bootstrap Datepicker CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.0/js/bootstrap.min.js"></script>
    <!-- Bootstrap Datepicker JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <!--vue-->
    <script src="https://unpkg.com/vue@3.2.36"></script>
    <!-- axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- Lodash -->
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>

    <script>
    Vue.createApp({

    data(){
    return{
        memberId:"",
        memberPw:"",
        memberPwCheck:"",
        };
    },

    computed:{
        memberIdValid(){
            const regex = /^[a-z][a-z0-9]{7,19}$/;
            return regex.test(this.memberId);
        },

        memberPwValid(){
            const regex = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$])[A-Za-z0-9!@#$]{8,16}$/;
            return regex.test(this.memberPw);
        },

        memberPwCheckValid(){
            return this.memberPw == this.memberPwCheck;
        },

        idMessage(){
            if(this.memberId.length ==0){
                return"";
            }
            else if(this.memberIdValid){
                return"올바른 아이디 형식 입니다."
            }
            else{
                return"아이디는 영문 소문자,숫자를 포함하여 8~19글자"
            }
        },

        pwMessage(){
            if(this.memberPw.length ==0){
                return"";
            }
            else if(this.memberPwValid){
                return"올바른 패스워드 형식 입니다.";
            }
            else{
                return"비밀번호는 영문 대/소문자,숫자 특수문자 포함7~20글자"
            }
        },

        pwCheckMessage(){
            if(this.memberPw.length ==0){
                return"";
            }
            else if(this.memberPw.length ==0){
                return"비민번호를 입력하세요";
            }
            else if(this.memberPwCheckValid){
                return"비밀번호가 일치합니다";
            }
            else{
                return"비밀번호가 일치하지 않습니다";
            }
        },

        allValid(){
            return this.memberIdValid && this.memberPwValid && this.memberPwCheckValid;
        },

    },
    }).mount("#app");
    </script>

    <script>
        $(document).ready(function() {
            $('#dob-picker').datepicker({
                format: 'yyyy/mm/dd',
                startDate: '-100y',
                endDate: '-1d'
            });
        });
    </script>

</body>
</html>