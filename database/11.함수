/*
    함수(function)
    - 특정 기능을 실행하는 코드 집합
    - 자바에서는 메소드라고 부름
    - 단일행 함수, 집계함수, 분석함수로 구분
*/

-- 단일행 함수 : 결과집합의 행마다 연산하는 함수
SELECT MEMBER_ID, UPPER(MEMBER_ID) 대문자 FROM MEMBER;
SELECT MEMBER_ID, LOWER(MEMBER_ID) 소문자 FROM MEMBER;

SELECT*FROM MEMBER WHERE INSTR(MEMBER_ID, 'kh') > 0;
SELECT*FROM MEMBER WHERE INSTR(LOWER(MEMBER_ID), LOWER('kh')) > 0;

-- 집계함수(통계함수) : 데이터를 종합하여 하나의 결과를 만드는 함수(합계, 평균, 계수,최대,최소)
-- (주의) 일반적인 항목과 같이 출력할 수 없다
SELECT PRICE FROM PRODUCT;
SELECT SUM(PRICE) 합계 FROM PRODUCT;

-- select name, sum(price) 합계 from product;   -- name 10개, 합계1개 갯수가 맞지 않아 조회 불가

SELECT AVG(PRICE) 평균 FROM PRODUCT;
SELECT MAX(PRICE) 최대 FROM PRODUCT;
SELECT MIN(PRICE) 최소 FROM PRODUCT;
SELECT COUNT(PRICE) 개수 FROM PRODUCT;  --가격이 몇개 있는가?(null)제외
SELECT COUNT(*) 개수 FROM PRODUCT;      --데이터가 몇 개 있는가?(null)포함

SELECT SUM(PRICE) 합계, AVG(PRICE) 평균 FROM PRODUCT;

-- Q) 가장 비싼 상품의 이름을 출력(PRODUCT)
SELECT MAX(NAME), MAX(PRICE)  FROM PRODUCT;

-- 서브 쿼리(SUB QUERY) - 구문을 중첩시켜 순차적으로 실행하도록 구성
SELECT NAME FROM PRODUCT WHERE PRICE = (SELECT MAX(PRICE) FROM PRODUCT);
